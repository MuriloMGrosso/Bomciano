[gd_scene load_steps=19 format=3 uid="uid://cw3q7t8coffv6"]

[ext_resource type="PackedScene" uid="uid://b33bhrgedy24a" path="res://scenes/Player.tscn" id="1_b6evm"]
[ext_resource type="Script" path="res://scripts/CameraMovement.gd" id="3_7qwd1"]
[ext_resource type="PackedScene" uid="uid://btb31cmejqtte" path="res://scenes/Tile.tscn" id="3_cwfvk"]
[ext_resource type="Script" path="res://scripts/LeverManager.gd" id="3_qrwog"]
[ext_resource type="PackedScene" uid="uid://dt5umfpwtev7w" path="res://scenes/Friend.tscn" id="4_emv6s"]
[ext_resource type="PackedScene" uid="uid://bcfsubgeesbua" path="res://scenes/Enemy.tscn" id="4_wc2qw"]
[ext_resource type="PackedScene" uid="uid://cdimjvdj1ku61" path="res://scenes/Fruit.tscn" id="5_3u88k"]
[ext_resource type="PackedScene" uid="uid://chxj0ghdivs4g" path="res://scenes/Spawn.tscn" id="7_ukd3o"]
[ext_resource type="Texture2D" uid="uid://dhf8i7kqu4ndj" path="res://images/backgrounds/game_background_1/layers/sky.png" id="9_fpmib"]
[ext_resource type="Texture2D" uid="uid://ve73dtjckh42" path="res://images/backgrounds/game_background_1/layers/rocks_1.png" id="10_gxwkh"]
[ext_resource type="AudioStream" uid="uid://ti1xgtl7axnx" path="res://sfxs/Mars.wav" id="10_trtss"]
[ext_resource type="Texture2D" uid="uid://d86e07c3qkyv" path="res://images/backgrounds/game_background_2/layers/rocks_2.png" id="11_0jquu"]
[ext_resource type="Script" path="res://scripts/ScoreDisplay.gd" id="11_fprpl"]
[ext_resource type="Texture2D" uid="uid://dnsnj5wwuo1s1" path="res://images/backgrounds/game_background_1/layers/clouds_2.png" id="12_7cvky"]
[ext_resource type="Texture2D" uid="uid://c238uyfuws3jv" path="res://images/backgrounds/game_background_1/layers/clouds_1.png" id="13_3am7l"]
[ext_resource type="Texture2D" uid="uid://c6ykopgclbaww" path="res://images/fade.png" id="14_2r7tt"]

[sub_resource type="Environment" id="Environment_8hhkf"]
background_mode = 1
background_color = Color(0.812748, 0.642449, 0.403129, 1)
ambient_light_source = 2
ambient_light_color = Color(0.960784, 0, 0.737255, 1)
ambient_light_energy = 0.2
reflected_light_source = 1
fog_light_energy = 9.34
fog_sun_scatter = 0.13
fog_density = 0.0141
volumetric_fog_emission_energy = 58.68
volumetric_fog_gi_inject = 1.36
volumetric_fog_anisotropy = 0.9
volumetric_fog_length = 66.8
volumetric_fog_detail_spread = 0.615572
volumetric_fog_ambient_inject = 5.42
volumetric_fog_sky_affect = 0.203
adjustment_enabled = true
adjustment_saturation = 1.2

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_krfgg"]
exposure_multiplier = 1.2
auto_exposure_scale = 1.2
auto_exposure_speed = 20.58
dof_blur_far_enabled = true
dof_blur_far_distance = 108.0
dof_blur_near_distance = 50.0
dof_blur_amount = 0.05

[node name="Mars" type="Node3D"]
script = ExtResource("3_qrwog")
tileScene = ExtResource("3_cwfvk")
tileWidth = 1.0
tileHeight = 0.6
friend = ExtResource("4_emv6s")
enemy = ExtResource("4_wc2qw")
fruit = ExtResource("5_3u88k")
spawn = ExtResource("7_ukd3o")

[node name="CameraPivot" type="Marker3D" parent="." node_paths=PackedStringArray("player")]
transform = Transform3D(0.707107, -0.408607, 0.577096, 0, 0.816138, 0.577858, -0.707107, -0.408607, 0.577096, 0.0665337, -0.132892, 0.0665337)
script = ExtResource("3_7qwd1")
player = NodePath("../Player")
yOffset = 1.0
lerp = 0.05

[node name="Camera3D" type="Camera3D" parent="CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 100)
projection = 1
current = true
size = 10.0

[node name="Background" type="Node3D" parent="CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -100)

[node name="Layer0" type="Sprite3D" parent="CameraPivot/Background"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, -8.9407e-08, 1, 0, 0, -10)
modulate = Color(1, 0.387438, 0.469968, 0.207843)
texture = ExtResource("9_fpmib")

[node name="Layer1" type="Sprite3D" parent="CameraPivot/Background"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, -2.38419e-07, 1, 0, 0, -9)
modulate = Color(1, 0.423529, 0.0627451, 0.25098)
texture = ExtResource("10_gxwkh")

[node name="Layer2" type="Sprite3D" parent="CameraPivot/Background"]
transform = Transform3D(0.999999, 0, 0, 0, 1, 0, 0, -5.06639e-07, 1, 0, 0, -8)
modulate = Color(1, 0.435294, 0.117647, 0.623529)
texture = ExtResource("11_0jquu")

[node name="Layer3" type="Sprite3D" parent="CameraPivot/Background"]
transform = Transform3D(0.999999, 0, 0, 0, 1, 0, 0, -1.04308e-06, 1, 0, 0, -7)
modulate = Color(1, 0.533333, 0.317647, 1)
texture = ExtResource("12_7cvky")

[node name="Layer4" type="Sprite3D" parent="CameraPivot/Background"]
transform = Transform3D(0.999997, 0, 0, 0, 0.999999, 0, 0, -2.11596e-06, 1, 0, 0, -6)
modulate = Color(1, 0.597054, 0.354859, 1)
texture = ExtResource("13_3am7l")

[node name="Foreground" type="Node3D" parent="CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 90)

[node name="Light0" type="Sprite3D" parent="CameraPivot/Foreground"]
transform = Transform3D(0.53033, 15.4068, 0, -0.53033, 15.4068, 2.38419e-07, -7.45058e-09, -9.53674e-07, 5, -4.1274, -4.1274, 0)
modulate = Color(1, 1, 1, 0.129412)
texture = ExtResource("14_2r7tt")

[node name="Light1" type="Sprite3D" parent="CameraPivot/Foreground"]
transform = Transform3D(0.229463, 15.4068, 0, -0.229463, 15.4068, 2.38419e-07, 2.6077e-08, -9.53674e-07, 5, -0.0801115, -5.59718, 0)
modulate = Color(1, 1, 1, 0.129412)
texture = ExtResource("14_2r7tt")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.656059, 0.75471, 0, -0.75471, 0.656059, 0, 4.28162, 5.04517)
light_color = Color(0.992157, 1, 0.686275, 1)
light_energy = 1.5
shadow_enabled = true
shadow_bias = 0.0
shadow_normal_bias = 10.0

[node name="Player" parent="." instance=ExtResource("1_b6evm")]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("10_trtss")
autoplay = true

[node name="ScoreDisplay" type="Label" parent="."]
offset_right = 40.0
offset_bottom = 23.0
script = ExtResource("11_fprpl")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_8hhkf")
camera_attributes = SubResource("CameraAttributesPractical_krfgg")
